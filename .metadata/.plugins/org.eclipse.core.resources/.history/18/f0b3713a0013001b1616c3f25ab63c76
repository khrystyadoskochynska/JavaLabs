package lab1;

import java.util.Scanner;
import static java.lang.Math.abs;
import static java.lang.Math.pow;

public class Lab1 {

	    public static double F, x1, x2, x3;
	    public static void main(String[] args) {
	        Scanner sc= new Scanner(System.in);
	        System.out.println("Введіть значення x1 , x2 , x3 :");
	        x1=sc.nextDouble();
	        x2=sc.nextDouble();
	        x3=sc.nextDouble();
	        F=function(x1,x2,x3);
	        System.out.println("Значення функції із заданими аргументами = " + F);
	        errors(x1,x2,x3);
	        dani(x1,x2,x3);
	    }
	//Обчислюється значення функції із заданими аргументами:
	    public static double function(double a, double b, double c) {
	        double f = (10 * pow(a, 2) + 8 * pow(b, 2) + 6 * pow(c, 2) - 7 * a * b - 5* a + 20 * Math.asin(a - b));
	        return f;
	    }
	//Обчислюються всі похибки із завдання:
	    public static void errors(double a, double b, double c) {
	        double a1 = (1d / (2d * (int)a)) * 0.019d;
	        double a2 = (1d / (2d * (int) b)) * 0.019d;
	        double a3 = (1d / (2d * (int) c)) * 0.019d;
	        System.out.println("\nВідносна похибка аргументів: \nx1=" + a1+ "\n" + "x2=" + a2 +"\n" +"x3=" + a3);
	        double b1 = a*a1;
	        double b2 = b*a2;
	        double b3 = c*a3;
	        System.out.println("\nАбсолютна похибка аргументів: \nx1=" + b1+ "\n" + "x2=" + b2 +"\n" +"x3=" + b3);
	        double absolute_error = abs(20*a-7*b-5+20/(1-a*a-b*b+2*a*b))*b1+abs(16*b-7*a-20/(1-b*b-a*a+2*a*b))*b2+abs(12*c)*b3;
	        System.out.println("\nАбсолютна похибка функції = "+ absolute_error);
	        double f = (10 * pow(a, 2) + 8 * pow(b, 2) + 6 * pow(c, 2) - 7 * a * b - 5* a + 20 * Math.asin(a - b));
	        double relative_error = absolute_error/f;
	        System.out.println("\nВідносна похибка функції = "+ relative_error);
	    }
	//Обчислення серії даних:
	    public static void dani(double a, double b, double c){
	        double start, end;
	        double h = 0, step = 19d / 10.0;
	        double temp_Absolute_Error, absolute_Error_F;
	        int counter = 1;
	        System.out.println("\n**Серія даних**");
	        System.out.println("Введіть інтервал: ");
	        Scanner sc = new Scanner(System.in);
	        start = sc.nextInt();
	        end=start+19;
	        System.out.println("Похибка даних"+ "\t"+ "Похибка F \n");
	        while (start + h <= end) {
	            temp_Absolute_Error = 19d * pow(10.0, -3 - h);
	            absolute_Error_F = abs(20*a-7*b-5+20/(1-a*a-b*b+2*a*b)) * temp_Absolute_Error
	                    + abs(16*b-7*a-20/(1-b*b-a*a+2*a*b)) * temp_Absolute_Error + abs(12*c) * temp_Absolute_Error;
	            System.out.println ( counter++ + ")\t" + temp_Absolute_Error + "\t" + absolute_Error_F );
	            h += step;}
	    }
	}

